<root BTCPP_format="4" main_tree_to_execute="MainTree">
  <BehaviorTree ID="MainTree">
    <ReactiveSequence name="idle_check">
      <!--<IsInState state="{'IDLE'}" />-->
      <SubTree ID="IdleTree" entity="{entity}" deltaTime="{deltaTime}" />
    </ReactiveSequence>
  </BehaviorTree>

  <BehaviorTree ID="IdleTree">
    <Sequence name="patrol_sequence">
      <PatrolTo entity="{entity}" targetPosition="{pos}" direction="{dir}" duration="{dur}" />
      <MoveTo entity="{entity}" position="{pos}" />
      <TurnTo entity="{entity}" direction="{dir}" />
      <WaitFor entity="{entity}" deltaTime="{deltaTime}" duration="{dur}" />
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="DetectTree">
    <ReactiveSequence name="detect_sequence">
      <IsEnemyVisible entity="{entity}" otherEntity="{otherEntity}" otherPosition="{otherPosition}" direction="{direction}" />
      <WaitFor entity="{entity}" deltaTime="{deltaTime}" duration="{1}" />
      <TurnTo entity="{entity}" direction="{direction}" />
    </ReactiveSequence>
  </BehaviorTree>
</root>